<!DOCTYPE html>
<html>
  <head>
    <title>WebSocket Chat Client</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <style type="text/css">
          body {
              background-color: #a9a9a9;
          }
          .point:hover {
              font-size: 23px;
          }
          .point {
              width: 4px;
              height: 4px;
              position: absolute;
              font-size: 10px;
              font-family: sans-serif;
          }
          #space {
              position: absolute;
              background-color: white;
              display: block;
          }
          #info {
              position: absolute;
              left: 500px;
              top: 600px;
          }
          #json {
              width: 400px;
              height: 400px;
          }
      </style>
  </head>
  <body>
  <div id="space"></div>
  <div id="info">
      <textarea id="json"></textarea>
  </div>

  <script type="text/javascript">
      var spaceElement = document.getElementById('space');

      var min = { x: 100000, y: 10000};
      var max = { x: 0, y: 0 };

      var gestureToSave = {
          name: "New Gesture",
          points: [

          ]
      };

      function draw(counter, x, y) {
          var div = document.createElement("div");
          div.className = "point";
          div.style.top = (3 * y) + "px";
          div.style.left = (3 * x) + "px";
          div.style.backgroundColor = "#" + counter + "" + counter + "" + counter;
          div.innerHTML = counter;
          var point = { x: x, y: y};
          console.log(point);
          spaceElement.style.width = max.x + "px";
          spaceElement.style.height = max.y + "px";
          spaceElement.appendChild(div);
          gestureToSave.points.push(point);
      }

      function drawGesture(gesture) {
          var counter = 0;
          var points = gesture.points;
          points.forEach(function(point) {
              if (max.y < point.y) {
                  max.y = point.y;
              }
              if (min.y > point.y) {
                  min.y = point.y;
              }
              if (max.x < point.x) {
                  max.x = point.x;
              }
              if (min.x > point.x) {
                  min.x = point.x;
              }
              draw(counter, point.x, point.y);
              counter++;
          });

          var info = document.createElement("div");
          info.innerHTML = gesture.name + " min: " + min.x + " x " + min.y + " max " + max.x + " x " + max.y + ", " + points.length + " points";
          document.getElementById("info").appendChild(info);
      }

      drawGesture(
        {"name":"RightToLeftLine2","points":[{"x":160,"y":114},{"x":160,"y":114},{"x":159,"y":114},{"x":159,"y":114},{"x":158,"y":114},{"x":158,"y":114},{"x":157,"y":114},{"x":157,"y":114},{"x":156,"y":114},{"x":156,"y":114},{"x":155,"y":114},{"x":155,"y":114},{"x":154,"y":114},{"x":154,"y":114},{"x":154,"y":114},{"x":153,"y":114},{"x":153,"y":114},{"x":152,"y":114},{"x":152,"y":114},{"x":151,"y":114},{"x":151,"y":114},{"x":150,"y":114},{"x":150,"y":114},{"x":149,"y":114},{"x":149,"y":114},{"x":149,"y":114},{"x":148,"y":114},{"x":148,"y":114},{"x":147,"y":114},{"x":147,"y":114},{"x":146,"y":114},{"x":146,"y":114},{"x":145,"y":114},{"x":145,"y":114},{"x":144,"y":114},{"x":144,"y":114},{"x":143,"y":114},{"x":143,"y":114},{"x":143,"y":114},{"x":142,"y":114},{"x":142,"y":114},{"x":141,"y":114},{"x":141,"y":114},{"x":140,"y":114},{"x":140,"y":114},{"x":139,"y":114},{"x":139,"y":114},{"x":138,"y":114},{"x":138,"y":114},{"x":137,"y":114},{"x":137,"y":114},{"x":137,"y":114},{"x":136,"y":114},{"x":136,"y":114},{"x":135,"y":114},{"x":135,"y":114},{"x":134,"y":114},{"x":134,"y":114},{"x":133,"y":114},{"x":133,"y":114},{"x":132,"y":114},{"x":132,"y":114},{"x":132,"y":114},{"x":131,"y":114},{"x":131,"y":114},{"x":130,"y":114},{"x":130,"y":114},{"x":129,"y":114},{"x":129,"y":114},{"x":128,"y":114},{"x":128,"y":114},{"x":127,"y":114},{"x":127,"y":114},{"x":126,"y":114},{"x":126,"y":114},{"x":126,"y":114},{"x":125,"y":114},{"x":125,"y":114},{"x":124,"y":114},{"x":124,"y":114},{"x":123,"y":114},{"x":123,"y":114},{"x":122,"y":114},{"x":122,"y":114},{"x":121,"y":114},{"x":121,"y":114},{"x":120,"y":114},{"x":120,"y":114},{"x":120,"y":114},{"x":119,"y":114},{"x":119,"y":114},{"x":118,"y":114},{"x":118,"y":114},{"x":117,"y":114},{"x":117,"y":114},{"x":116,"y":114},{"x":116,"y":114},{"x":115,"y":114},{"x":115,"y":114},{"x":114,"y":114},{"x":114,"y":114},{"x":114,"y":114},{"x":113,"y":114},{"x":113,"y":114},{"x":112,"y":114},{"x":112,"y":114},{"x":111,"y":114},{"x":111,"y":114},{"x":110,"y":114},{"x":110,"y":114},{"x":109,"y":114},{"x":109,"y":114},{"x":109,"y":114},{"x":108,"y":114},{"x":108,"y":114},{"x":107,"y":114},{"x":107,"y":114},{"x":106,"y":114},{"x":106,"y":114},{"x":105,"y":114},{"x":105,"y":114},{"x":104,"y":114},{"x":104,"y":114},{"x":103,"y":114}]}
      );


      drawGesture(
          {"name":"ActualGesture2","points":[{"x":311.26617,"y":205.5053},{"x":334.14996,"y":203.67317},{"x":357.30212,"y":199.86723},{"x":364.2529,"y":203.33064},{"x":366.31015,"y":200.9268},{"x":367.56845,"y":201.45221},{"x":362.04706,"y":202.75453},{"x":359.30133,"y":202.02946},{"x":357.49664,"y":202.34895},{"x":360.58246,"y":199.99663},{"x":354.46198,"y":203.51112},{"x":347.24097,"y":203.02107},{"x":342.57532,"y":200.43192},{"x":339.8963,"y":194.27808},{"x":325.46783,"y":196.64081},{"x":316.1571,"y":191.8782},{"x":304.40906,"y":193.88683},{"x":288.0617,"y":189.74612},{"x":278.25436,"y":189.64716},{"x":269.63046,"y":192.32643},{"x":250.83032,"y":193.13193},{"x":232.3134,"y":189.1694},{"x":209.96475,"y":187.1899},{"x":186.61574,"y":187.68718},{"x":185.64285,"y":160.68419},{"x":133.95326,"y":176.24458},{"x":107.97065,"y":176.77414},{"x":82.77988,"y":180.14595},{"x":73.580284,"y":166.06265},{"x":54.738716,"y":162.75533},{"x":37.47274,"y":166.58322},{"x":14.731621,"y":157.911},{"x":95.47905,"y":137.82462},{"x":-34.74453,"y":161.49146},{"x":-60.845676,"y":171.81837},{"x":-76.98992,"y":175.936},{"x":-89.42276,"y":187.844},{"x":-110.5349,"y":191.1402},{"x":-130.46182,"y":196.705},{"x":19.978245,"y":170.0402},{"x":-173.66232,"y":195.92387},{"x":-162.05609,"y":212.38574},{"x":-215.85126,"y":200.54218},{"x":-238.8262,"y":196.53256},{"x":-255.72101,"y":198.79305},{"x":-273.8871,"y":206.84128},{"x":-283.12436,"y":215.4951},{"x":-317.97974,"y":211.35075},{"x":-332.88116,"y":217.2458},{"x":-353.0917,"y":218.74013},{"x":-371.84753,"y":220.78401},{"x":-388.0473,"y":225.85052},{"x":-408.6311,"y":226.50746},{"x":-414.3693,"y":235.29779},{"x":-458.3976,"y":258.27026},{"x":-454.0114,"y":249.45236},{"x":-472.6358,"y":251.94913},{"x":-490.4086,"y":252.51605},{"x":-501.38367,"y":260.62225}]}
      );

      var length = 124;
      min.x = 70;
      var xDistance = (max.x - min.x) / length;
      var yDistance = (max.y - min.y) / length;
      for (var i = 0; i < length; i++) {
          var x = Math.round(max.x - (i * xDistance));
          var y = (Math.round(Math.random() * 10)) + min.y; // Math.round(i * yDistance + min.y);
      }


      document.getElementById("json").innerHTML = JSON.stringify(gestureToSave);

  </script>
  </body>
</html>
